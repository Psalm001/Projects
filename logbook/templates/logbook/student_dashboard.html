{% extends 'logbook/base.html' %}

{% block title %}Student Dashboard{% endblock %}
{% block content %}
<div class="mt-4">
    <h1 class="mb-4">My Logbook Entries</h1>
    <a href="{% url 'logentry_create' %}" class="btn btn-primary mb-4">Add New Log Entry</a>
    
    {% if logs %}
    <ul class="list-group">
        {% for log in logs %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <strong>Date:</strong> {{ log.date }}
                <p class="mb-0">{{ log.activity_description|truncatechars:100 }}</p>
                <a href="{% url 'log_detail' log.id %}">View Details & Comments</a>
            </div>
            <span class="badge badge-primary badge-pill">
                {{ log.comments.count }} Comments
            </span>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="alert alert-info">You have not submitted any log entries yet.</p>
    {% endif %}
</div>
{% endblock %}